{% extends 'base.html.twig' %}

{% block title %}Service{% endblock %}

{% block body %}
<twig:Brodcump firstLink="app_admin_service_index" firstLabel="Liste" pageActuel="Voir" />

<twig:Card:Card>
    <twig:Card:Header>
        <twig:H1>Service {{ service.service }} </twig:H1>
    </twig:Card:Header>

    <twig:Card:Body class="p-3">
        <div class="grid grid-cols-2 gap-5">
            <twig:Table :action="false">
                <tbody>
                    <twig:Tr>
                        <th class="text-start pr-10 py-2">Service</th>
                        <twig:Td>{{ service.service }}</twig:Td>
                    </twig:Tr>
                    <twig:Tr>
                        <th class="text-start pr-10 py-2">Description</th>
                        <twig:Td>
                            <div class="whitespace-normal">
                                {{ service.description }}
                            </div>
                        </twig:Td>
                    </twig:Tr>
                    <twig:Tr>
                        <th class="text-start pr-10 py-2">Image</th>
                        <twig:Td>
                            <img class="w24 h-24 border-2 border-white"
                                src="{{ vich_uploader_asset(service, "imageFile") }}" alt="{{ service.service }}">
                        </twig:Td>
                    </twig:Tr>
                    <twig:Tr>
                        <th class="text-start pr-10 py-2">Is_activated</th>
                        <twig:Td>
                            {% if service.isActivated %}
                            <twig:Badget type="primary"> activé </twig:Badget>
                            {% else %}
                            <twig:Badget type="danger"> non activé </twig:Badget>
                            {% endif %}
                        </twig:Td>
                    </twig:Tr>
                </tbody>
            </twig:Table>

            <twig:Card:Card>
                <twig:Card:Header>
                    <twig:Card:CardTitle>Les Images associé</twig:Card:CardTitle>
                </twig:Card:Header>

                <twig:Card:Body>
                    <div class="grid grid-cols-3 gap-2 mt-3 px-3">
                        {% for file in service.serciveFiles %}
                        <div class="w-full">
                            <img 
                                class="w-full h-full border-gray-200 border rounded-lg" 
                                src="{{ vich_uploader_asset(file, "fileSrc") }}"
                                alt="{{ service.service }}">
                            <div class="flex gap-2 w-full">
                                <button class="border border-red-800 bg-red-500 text-red-50 px-4 py-1.5 rounded-md my-2"> Supprimer </button>
                                <button class="border border-gray-300 bg-gray-100 text-gray-70 px-4 py-1.5 rounded-md my-2"> Voir </button>
                            </div>
                        </div>
                        {% else %}
                            auccune image associé
                        {% endfor %}
                    </div>
                </twig:Card:Body>
            </twig:Card:Card>
        </div>
    </twig:Card:Body>

    <twig:Card:Footer class="flex items-center gap-2 p-3">
        <twig:Action:Edit href="{{ path('app_admin_service_edit', {'id': service.id}) }}" />
        {{ include('admin/service/_delete_form.html.twig') }}
    </twig:Card:Footer>
</twig:Card:Card>
{% endblock %}